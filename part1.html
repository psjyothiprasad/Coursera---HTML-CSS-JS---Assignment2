<!DOCTYPE html>
<html>
<head>
	<title>Colour Guess Game</title>
</head>
<body onload="game()">
	<script>
	var target_index;
	var colors = ["aqua","black","brown","cyan","gray","green","orange","pink","red","violet","yellow"];
	var target;
	var finished = false;
	var initial_input;
	var guess_input;
	var guess_counter = 0;

	function game() {
	  var random_number = Math.random() * 11;
	  target_index = Math.floor(random_number);
	  target = colors[target_index];
		alert("Targert color is: "+target);
	  //alert(target);
	  while (!finished) {
	    initial_input = prompt("I am thinking of one of these colors:\n"+
	                            "aqua, black, brown, cyan, gray, green, orange, pink, red, violet, yellow \n\n"+
	                            "What color am I thinking of?");
	    //guess_input = initial_input.toString().toLowerCase();
	    guess_input = initial_input.toLowerCase().toString();
		  console.log(typeof guess_input);
	    guess_counter+= 1;
	    finished = compare_input_guess();
	  }
	}
	function compare_input_guess(){
	  var valid_input = 1;
	  var i = 1;

	  do
	  {
	    //console.log(colors[i]);
	    if(guess_input === colors[i-1])
	    {
	      valid_input = 0;
	    }
	    i++;
	  }while (i<=colors.length);

	  if(valid_input == 1)
	  {
	    alert("Sorry, I don't recognize your color.\n\n"+"Please try again.");
	    return false;
	  }

	  if(colors.indexOf(guess_input)>colors.indexOf(target)){
	    return false;
	  }

	  if(colors.indexOf(guess_input)<colors.indexOf(target)){
	    return false;
	  }

	  alert("Congratulations! You have guessed the color! \n\n"+
	        "It took you "+guess_counter+" guesses to finish the game! \n\n"+
	        "You can see the colour in the background");
	  return true;
	}

	</script>
</body>
</html>
